(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const d=document.querySelector("#createForm"),S=document.querySelector("#rowTemplate"),i=document.querySelector("#rowGroup"),g=document.querySelector("#manageInventoryBtn"),q=document.querySelector("#inventorySheet"),a=document.querySelector("#productGroup"),v=document.querySelector("#inventorySheetCloseBtn"),T=document.querySelector("#recordTotal"),b=document.querySelector("#productTemplate"),l=document.querySelector("#newProductCreateForm"),p=document.querySelector("#productSelect"),L=document.querySelector("#printBtn"),y=({name:e,price:t})=>{const r=b.content.cloneNode(!0);return r.querySelector(".product-name").innerText=e,r.querySelector(".product-price").innerText=t,r},f=e=>{p.innerHTML="",a.innerHTML="",e.forEach(({name:t,id:r,price:c})=>{p.append(new Option(t,r)),a.append(y({name:t,price:c}))})},u=[{id:1,name:"apple",price:500},{id:2,name:"orange",price:600},{id:3,name:"mango",price:1e3},{id:4,name:"banana",price:200}],x=()=>{f(u)};let h=1;const P=({id:e,name:t,price:r},c)=>{const n=r*c,o=S.content.cloneNode(!0);return console.log(o),o.querySelector(".row").setAttribute("row-product-id",e),o.querySelector(".row-no").innerText=h++,o.querySelector(".row-product-name").innerText=t,o.querySelector(".row-product-price").innerText=r,o.querySelector(".row-quantity").innerText=c,o.querySelector(".row-cost").innerText=n,o},I=()=>{const e=document.querySelectorAll(".row-cost");T.innerText=[...e].reduce((t,{innerText:r})=>t+parseFloat(r),0)},O=e=>{const t=e.target.closest(".row");confirm("Are you sure to Delete?")&&t.remove()},m=(e,t)=>{const r=document.querySelector(`[row-product-id ='${e}']`),c=r.querySelector(".row-quantity"),n=r.querySelector(".row-cost"),o=r.querySelector(".row-product-price");(t>0||c.innerText>1)&&(c.innerText=parseInt(c.innerText)+t,n.innerText=o.innerText*c.innerText)},F=()=>{const e=()=>{I()},t={childList:!0,subtree:!0};new MutationObserver(e).observe(i,t)},E=e=>{e.preventDefault();const t=new FormData(d),r=parseInt(t.get("productSelect")),c=u.find(s=>s.id===r),n=parseInt(t.get("inputQuantity")),o=i.querySelector(`[row-product-id='${r}']`);o?m(o.getAttribute("row-product-id"),n):i.append(P(c,n)),d.reset()},A=e=>{e.target.classList.contains("row-del-btn")?O(e):e.target.classList.contains("row-q-add")?m(e.target.closest(".row").getAttribute("row-product-id"),1):e.target.classList.contains("row-q-sub")&&m(e.target.closest(".row").getAttribute("row-product-id"),-1)},w=()=>{q.classList.toggle("-translate-x-full")},B=e=>{e.preventDefault();const t=new FormData(l),r={id:Date.now(),name:t.get("new_product_name"),price:t.get("new_product_price")};a.append(y(r)),p.append(new Option(r.name,r.id)),u.push(r),f(u),l.reset()},C=()=>{window.print()},D=()=>{d.addEventListener("submit",E),i.addEventListener("click",A),g.addEventListener("click",w),v.addEventListener("click",w),l.addEventListener("submit",B),L.addEventListener("click",C)},R=()=>{F()};class H{init(){console.log("Invoice App Start"),x(),D(),R()}}const G=new H;G.init();
